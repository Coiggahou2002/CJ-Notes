# 科学上网

常见途径

+ SS
+ SSR
+ V2Ray

SS 和 SSR 需要租用服务器或者自己购买服务器

卖节点的网站被称为机场(Airport)

Shadowsocks

**VPN**

全称 Virtual Private Network，虚拟私人网络. 最初被设计出来是为了加密通讯.

> 既然不是为翻墙而生，那从翻墙的角度上讲，VPN 协议就存在诸多问题。最严重的一个就是流量特征过于明显。墙目前已经能够精确识别绝大部分 VPN 协议的流量特征并给予封锁，所以，VPN 这种翻墙方式基本已经废了.

**Proxy**

分为正向代理和反向代理. 

翻墙都用正向代理，反向代理一般用于服务器做缓存和负载均衡.

> 反向代理的负载均衡是指：在多个真正的服务器前架设一个代理服务器，用户所有的数据都发给代理服务器，然后代理服务器根据各个真实服务器的状态将数据转发给一个任务较少的服务器处理.

正向代理

+ HTTP
+ HTTP over TLS (HTTPS)
+ Socks
+ Socks over TLS

其中 HTTP 和 Socks 无法用于翻墙

Proxy 的历史同样早于 GFW，它最早被设计出来的目的当然也不是翻墙。正向代理最主要的目的和 VPN 差不多，都是用于匿名，但 HTTP 和 Socks 不能加密，只能匿名，HTTPS 既可以匿名，也可以用于加密通信。

从理论上讲，四种代理协议都可以通过“用户先将数据发给代理服务器，再由代理服务器转发给目的服务器”的方法达到翻墙目的。但由于 HTTP 和 Socks 都是明文协议，GFW 可以通过检查数据包内的内容得知用户的真实意图，进而拦截数据包。所以，HTTP 和 Socks 一般只用作本地代理。而 HTTPS 协议是加密通讯，GFW 无法得知数据包内的真实内容，类似于关键词过滤的手段无法施展。不仅如此，HTTPS 代理的流量特征和我们平时访问网站时所产生的 HTTPS 流量几乎一模一样，GFW 无法分辨，稳定性爆表。

理论上讲，HTTPS代理无论是安全性，还是在隐匿性，都要比目前最为流行的shadowsocks好。事实上，在所有已知的翻墙协议中，无论是vpn协议，还是代理协议，它应该都是最好的。

当然，HTTPS代理也有它的缺点，其中最大的缺点就是配置复杂。即便能用默认参数就用默认参数，用户自己只作最低限度的配置，对新手而言，这也是一个无比痛苦的过程。更别说，想要正常使用HTTPS代理，你还要购买域名和证书这些，非常麻烦。所以，即便是在shadowsocks出现之前，HTTPS代理也没在大陆流行起来。这也是造成v2ray的小众的主要原因之一（另一个是用户没有从shadowsocks迁移到v2ray的动力），它的配置同样相当复杂。除此之外，HTTPS代理只能转发tcp流量，对udp无能为力。





VPS（Virtual private server，虚拟专用服务器）是由vps提供商维护，租用给站长使用的“不会关机的电脑”。vps不是一台台独立的电脑，而是**将一台巨型服务器通过虚拟化技术分割成若干台看似独立的服务器**。这台巨型服务器不间断运行，被分割出来的小服务器也跟着不停的运作，站长租用其中一台小服务器，搭载上自己的站点，就可以等着用户访问了。

那么，vps和vpn、Proxy以及我们后面会说的shadowsocks有什么关系呢？很简单，vps可以用来搭建网站，当然也可以用来承载vpn服务器、代理服务器或是shadowsocks的服务器啦。建站固然是vps最主要的作用，但绝对不是它唯一的作用，既然vps本质上也是电脑，那电脑能做的事它当然也能做。



## shadowsocks

[官网链接](http://www.shadowsocks.org/en/index.html)

在shadowsocks之前，墙内网民主要依靠寻找现成的技术实现翻墙。比如vpn、HTTPS、tor的中继网桥以及之后的meek插件等等，虽然也有自己的技术，比如一种依靠Google隐藏ip实现翻墙的技术（名字忘了）,但毕竟难成大器，再加上GFW逐渐加大对VPN的干扰，人们迫切需要一种简单可靠的技术来抵御GFW的进攻。

于是，大概是在2013年吧（具体时间我也不太清楚），[@clowwindy](https://github.com/clowwindy)带着他的shadowsocks横空出世。

Shadowsocks同样是一种代理协议，但是作为clowwindy为国人设计的专门用于翻墙的代理协议，相对于vpn，shadowsocks有着极强的隐匿性；相对于HTTP代理，shadowsocks提供了较为完善的加密方案，虽然比不上HTTPS代理和vpn，但使用的也是成熟的工业级的加密算法，普通个人用户完全不用顾虑；相对于HTTPS代理，shadowsocks的安装配置更为简单，中文社区更为活跃，中文文档教程更完善，更符合中国国情。









毕竟大洋葱是跟tor相关的，而国内想要上tor，大部分是还是要通过翻墙来实现
以前我们翻墙的时候最常用的就是vpn了，而2年前，ss被开源(ss出现一年后，开源社区的破娃小姐姐在ss的基础上发布了ssr)，现在已经是最流行的翻墙方案。

下面我从三个部分做一个介绍：

1. 什么是vpn
2. 什么是ss/ssr
   1. 直连模式、PAC模式、全局模式
   2. 客户端的选用
3. vpn和ss/ssr的区别和优缺点
4. 为什么同步洋葱客户端的时候，vpn可以，而单独使用ss/ssr就不行


一、什么是vpn

vpn在很多人心目中就是用来翻墙的工具，其实不是。vpn最主要的功能，并不是用来翻墙，只是它可以达到翻墙的目的。vpn--虚拟专用网络，它的功能是：在公用网络上建立专用网络，进行加密通讯。在企业网络和高校的网络中应用很广泛。你接入vpn，其实就是接入了一个专有网络，你的网络访问都从这个出口出去，你和vpn之间的通信是否加密，取决于你连接vpn的方式或者协议。
​

二、什么是ss/ssr



ss：ss作者是[clowwindy](https://github.com/clowwindy)，大约两年前，他自己为了翻墙写了shadowsocks，简称ss或者叫影梭，后来他觉得这个东西非常好用，速度快，而且不会被封锁，他就把源码共享在了github上，然后就火了，但是后来作者被请去喝茶，删了代码，并且保证不再参与维护更新。现在这个好像是一个国外的大兄弟在维护。

ssr：在ss作者被喝茶之后，github上出现了一个叫breakwa11(破娃)的帐号，声称ss容易被防火墙检测到，所以在混淆和协议方面做了改进，更加不容易被检测到，而且兼容ss，改进后的项目叫shadowsocks-R，简称ssr，然后ss用户和ssr用户自然分成了两个派别，互相撕逼，直到前阵子，破娃被人肉出来，无奈之下删除了ssr的代码，并且解散了所有相关群组。

ss和ssr它的原理都是一样的，就是socks5代理，。socks代理只是简单的传递数据包，而不必关心是何种协议，所以socks代理比其他应用层代理要快的多。socks5代理是把你的网络数据请求通过一条连接你和代理服务器之间的通道，由服务器转发到目的地，这个过程中你是没有通过一条专用通道的，只是数据包的发出，然后被代理服务器收到，整个过程并没有额外的处理。通俗的说，现在你有一个代理服务器在香港，比如你现在想要访问google，你的电脑发出请求，流量通过socks5连接发到你在香港的服务器上，然后再由你在香港的服务器去访问google，再把访问结果传回你的电脑，这样就实现了翻墙。

1. 直连模式就是流量不走代理 ，PAC模式简单说就是国内地址不走代理，国外走代理，全局模式就是不管国内国外，所有流量通过代理服务器访问
2. 下载ss或者ssr客户端推荐去github或者https://shadowsocks.org/en/index.html这里去下载，或者在你购买ss/ssr服务商的网站下载



三、vpn和ss/ssr的区别和优缺点

通过上面的介绍，其实基本已经能看出vpn和ss/ssr的区别了，那么他们到底孰优孰劣。

因为vpn是走的专用通道，它是用来给企业传输加密数据用的，所以vpn的流量特征很明显，以openvpn为例，更详细的在这里不说了，流量特征明显，防火墙直接分析你的流量，如果特征匹配，直接封掉。目前就翻墙来说，PPTP类型的vpn基本死的差不多了，L2TP大部分地区干扰严重很不稳定。

ss/ssr的目的就是用来翻墙的，而vpn的目的是用来加密企业数据的，对于vpn来说安全是第一位的，而对于ss/ssr来说穿透防火墙是第一位，抗干扰性强，而且对流量做了混淆，所有流量在通过防火墙的时候，基本上都被识别为普通流量，也就是说你翻墙了，但是政府是检测不到你在翻墙的。两者的出发点和着重点就不同，ss/ssr更注重流量的混淆加密。如果要安全匿名上网，可以用vpn+tor或者ss/ssr+tor。

而安全性方面还要补充的一点就是，国内vpn服务商，政府是很容易拿到他们的服务器日志的，如果他们真的这样做了，你翻墙做了什么，一览无余
​

四、为什么同步洋葱客户端的时候，vpn可以，而单独使用ss/ssr就不行

通过了上面的介绍，这一点就更好解释了，因为vpn走的是专用通道，ss/ssr只是转发流量，也就是说，当你使用vpn同步客户端的时候，流量是在整个vpn通道中的，而ss/ssr只是将你的流量转发到了代理服务器。但是为什么ss/ssr配合Proxifier可以就又可以了呢，因为Proxifier这款软件，可以配置你的某些程序或者某些流量全部走socks5，所以两者配合，达到了同步客户端的目的。



总结一下：
就翻墙来说，推荐大家使用ss/ssr，ss/ssr的成本是非常低的，低至一年25块钱（也许还有更低的只是我没发现？），vpn的价格，用过的都知道。
而且就翻墙效果来说大部分地区ss/ssr是比vpn好的。​