# 单向散列函数

## 概念

**别名**：消息摘要函数，哈希函数，杂凑函数

**消息/原像**：散列函数的输入值

**散列值/消息摘要/指纹**：根据输入的消息生成的**固定长度的**输出

## 特点

+ 能将任意长度的输入转换为固定长度的散列值
+ 具备良好的抗碰撞性

> 什么是良好的抗碰撞性？即很难人为找到一种改写文件的方法，使得改写之后散列值不变；或者说，哪怕消息发生一点点改变，散列值都会发生大幅度变化.

## 用途

防止篡改，通过对比 hash 值是否一致，可以确认原像是否被篡改，即保护了消息的完整性.

但无法识别伪装，也就是没有认证的功能.

## 散列值长度

输出的散列值长度与消息长度无关，只与用于处理消息的哈希函数的种类有关.

例如，对于任何输入，SHA-256 散列函数计算出的散列值长度永远都是 256 位，即 32 kB.

## 常见散列函数

### MD4 / MD5

全称 Message Digest，即消息摘要函数. 其强抗碰撞性已被攻破.

### RIPEMD-160

强抗碰撞性已被攻破.

### SHA-1

强抗碰撞性已被攻破.

### SHA-2

有六种版本

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211017195511.png)

### SHA-3

+ 海绵结构
+ 双工通信（边输入边输出）

## 针对它的攻击

### 原像攻击

给定一个 hash 值，找到具有该 hash 值的任意消息.

### 第二原像攻击

给定消息 1 ，找出另外一条消息 2，使得消息 2 与消息 1 的 hash 值相同.

### 生日攻击

找到 hash 值相同的两条消息（hash 值可以是任意的）

> 此名称源于生日悖论 (birthday paradox)，即在一群人中，出现有任何两人生日相同的概率比我们想象的要大得多.