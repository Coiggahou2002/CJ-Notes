---
title: "ç®—æ³• | åŠ¨æ€è§„åˆ’"
author: è”¡å˜‰è±ª
date: 2020-11-21 15:28:00
tags: [ç®—æ³•,é¢˜è§£,åŠ¨æ€è§„åˆ’]
category: ç®—æ³•é¢˜è§£/ç¬”è®°
cover: /img/dynamic_programming.png
thumbnail: /img/dynamic_programming.png
math: true
description: "Dynamic Programming"
toc: true
---
æœ¬æ–‡ä¸ºç¬”è€…å­¦ä¹ åŠ¨æ€è§„åˆ’çš„åˆ·é¢˜æ€»ç»“ç¬”è®°ã€‚


# ğŸ’¡ æ€è·¯æè¦

## å…³é”®ç‚¹åˆ†æ
+ è‡ªé¡¶å‘ä¸‹å­˜åœ¨å¤§é‡é‡å å­é—®é¢˜
+ è®°å¿†åŒ– / å¤‡å¿˜å½•
+ å……åˆ†åˆ©ç”¨å·²çŸ¥ä¿¡æ¯
+ çŠ¶æ€è½¬ç§» / é€’æ¨å…³ç³»

## ä¸»è¦æ­¥éª¤
+ ç¡®å®šçŠ¶æ€å®šä¹‰
+ å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹
+ åˆå§‹åŒ– `dp` æ•°ç»„
+ é€’æ¨ `dp`
+ çŠ¶æ€å‹ç¼©ï¼ˆæ»‘åŠ¨çª—å£ / æ»šåŠ¨æ•°ç»„ï¼‰
+ è¡¥å……è¾¹ç•Œç‰¹åˆ¤

# ğŸ“” å…¸å‹ä¾‹é¢˜

## ä¸€ã€é€’æ¨å‹ DP


### [No.70 çˆ¬æ¥¼æ¢¯](https://leetcode-cn.com/problems/climbing-stairs/)

#### ä¸€ç»´DPå†™æ³•
```java
class Solution {
    public int climbStairs(int n) {
        if (n == 0 || n == 1) return 1;
        if (n == 2) return 2;
        int[] dp = new int[n+1];
        int rec = 0;
        dp[0] = 1;
        dp[1] = 1;
        dp[2] = 2;
        for (int i = 3; i <= n; i++) {
            dp[i] = dp[i-1] + dp[i-2];
        }
        return dp[n];
    }
}
```

#### ç©ºé—´ä¼˜åŒ–

åªéœ€è¦ä¸‰ä¸ªå˜é‡ `low` ï¼Œ`mid` ï¼Œ`high` äº¤æ›¿å‰è¿›ã€‚

```java
class Solution {
    public int climbStairs(int n) {
        if (n == 0 || n == 1) return 1;
        if (n == 2) return 2;
        int low, mid, high;
        low = 1;
        mid = 1;
        high = 2;
        for (int i = 1; i < n-1; i++) {
            low = mid;
            mid = high;
            high = low + mid;
        }
        return high;
    }
}
```

---

### [No.746 ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯](https://leetcode-cn.com/problems/min-cost-climbing-stairs/)

è™½ç„¶æœ¬é¢˜å¯¹ä¸Šä¸€é¢˜åšäº†å°å°çš„æ‰‹è„šå’Œæ”¹åŠ¨ï¼Œä½†å…¶ä¸­æ¶‰åŠçš„ä¸´ç•Œå¤„ç†ï¼ˆ `dp[]` æ•°ç»„çš„é•¿åº¦ç›¸æ¯”åŸæ•°ç»„é•¿åº¦ï¼Œéœ€è¦å¢åŠ ä¸€ä¸ªå•ä½ï¼‰å€¼å¾—ä¸€ç»ƒã€‚

ï¼ˆæ­¤é¢˜çœç•¥ç©ºé—´ä¼˜åŒ–å†™æ³•ï¼‰

```java
class Solution {
    public int minCostClimbingStairs(int[] cost) {
        int len = cost.length;
        /*Special Judge*/
        if (len == 2) return cost[0]; 
        if (len == 3) return Math.min(cost[0]+cost[2], cost[1]);

        //ä¸ºä»€ä¹ˆè¦len+1ï¼Ÿæ˜¯ä¸ºäº†å¤„ç†æœ€åé€šè¿‡2æ­¥è¸ä¸Šç›®æ ‡é˜¶æ¢¯çš„æƒ…å†µ
        int[] dp = new int[len+1];

        dp[0] = cost[0];
        dp[1] = cost[1];

        for (int i = 2; i < len+1; i++) {
            dp[i] = Math.min(dp[i-1], dp[i-2]);

            //å¦‚æœæœ€åæ˜¯é€šè¿‡2æ­¥èµ°ä¸Šå°é˜¶çš„ï¼Œæ•°ç»„ä¼šè¶Šç•Œï¼Œæ­¤å¤„é˜²æ­¢è¶Šç•Œ
            if (i != len) dp[i] += cost[i];
        }
        //æ¯”è¾ƒæœ€ååˆ°åº•æ˜¯2æ­¥ä¸Šè¿˜æ˜¯1æ­¥ä¸ŠèŠ±è´¹æ›´å°‘ï¼Œå¹¶è¿”å›å°çš„ç»“æœ
        return Math.min(dp[len],dp[len-1]);
    }
}
```

---

### [é¢è¯•é¢˜ 17.16. æŒ‰æ‘©å¸ˆ](https://leetcode-cn.com/problems/the-masseuse-lcci/submissions/)

#### é¢˜ç›®åˆ†æ

é¦–å…ˆå®¡æ¸…æ¥šé¢˜æ„ï¼šé¢˜ä¸­æ‰€è¯´çš„è¿™ä½æŒ‰æ‘©å¸ˆæ˜¯ä¸ªå¥‹æ–—é€¼ï¼Œé™¤äº†ä¸èƒ½è¿ç»­æ¥ä»»åŠ¡ä¹‹å¤–ï¼Œéœ€è¦ä¸æƒœä¸€åˆ‡ä»£ä»·æé«˜è‡ªå·±çš„æ”¶å…¥ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä½æŒ‰æ‘©å¸ˆä¸€å®šä¼šè®©è‡ªå·±æ‰€æ¥çš„ä»»åŠ¡å°½å¯èƒ½åœ°å¯†é›†ï¼Œä»»åŠ¡ä¸ä»»åŠ¡ä¹‹é—´çš„é—´éš”é¢„çº¦æ•° $k$ ä¸€å®šæ»¡è¶³ $1\leqslant k \leqslant 3$ ï¼ˆå¯ä»¥ç”¨åè¯æ³•è¯æ˜ï¼Œå‡è®¾é—´éš”æ•°æ¯” 3 å¤§ï¼ŒæŒ‰æ‘©å¸ˆä¸€å®šå¯ä»¥å†å¤šæ¥ä¸­é—´çš„è‹¥å¹²å¤„ä»»åŠ¡ï¼‰ã€‚

å¦å¤–ä¸€ä¸ªéœ€è¦æŒ–æ˜çš„æ¡ä»¶æ˜¯ï¼š**æœ€åä¸€ä¸ªé¢„çº¦å’Œå€’æ•°ç¬¬ä¸€ä¸ªé¢„çº¦ï¼ŒæŒ‰æ‘©å¸ˆä¸€å®šä¼šæ¥å…¶ä¸­ä¸€ä¸ª**ï¼ˆåŒæ ·å¯ç”¨åè¯æ³•è¯æ˜ï¼Œå¦‚æœæŒ‰æ‘©å¸ˆæ¥äº†å€’æ•°ç¬¬ 3 ä¸ªåŠä»¥å‰çš„ä»»åŠ¡ï¼Œåé¢ä¸€å®šè¿˜å¯ä»¥å†æ¥ä»»åŠ¡ï¼Œæœ‰é’±ä¸ºä»€ä¹ˆä¸èµšå‘¢ï¼Ÿï¼‰

æˆ‘ä»¬å°† â€œæŒ‰æ‘©å¸ˆåœ¨å®Œæˆç¬¬ $i$ ä¸ªé¢„çº¦åçš„æœ€å¤§å·¥ä½œæ€»æ—¶é•¿â€ è®°ä¸º `OPT(i)` ( i ä» 0 å¼€å§‹è®¡)ï¼Œæ ¹æ®ä¸Šé¢çš„åˆ†æï¼Œæˆ‘ä»¬çš„æœ€ç»ˆç›®æ ‡æ˜¯æ±‚
$$
max \left( OPT(len-1), \ OPT(len-2) \right)
$$

#### çŠ¶æ€è½¬ç§»æ–¹ç¨‹

æŒ‰æ‘©å¸ˆä¸€å®šæ˜¯ç›¸éš” 2 ä¸ªæˆ– 3 ä¸ªä»»åŠ¡çš„ä½ç½®æ¥åˆ°å½“å‰ä»»åŠ¡çš„ã€‚

æ‰€ä»¥æœ‰

$$
OPT(i) = max \left( OPT(i-2),\ OPT(i-3) \right) + nums[i]
$$

#### é€’å½’å†™æ³•

```java
class Solution {
    public int massage(int[] nums) {
        /*Special Judge*/
        int len = nums.length;
        if (len == 0) return 0;
        if (len == 1) return nums[0];
        if (len == 2) return Math.max(nums[0],nums[1]);
        return Math.max(OPT(nums,len-1),OPT(nums,len-2));
    }
    public int OPT(int[] nums, int i) {
        if (i == 0) return nums[0];
        if (i == 1) return nums[1];
        if (i == 2) return nums[0] + nums[2];
        return Math.max(OPT(nums,i-2)+nums[i], OPT(nums,i-3)+nums[i]);
    }
}
```
ç”±ä¸Šå›¾çš„é€’å½’æ ‘å¯è§ï¼Œé€’å½’å†™æ³•å­˜åœ¨å¤ªå¤šé‡å å­é—®é¢˜ï¼Œæ•ˆç‡å¤ªä½ï¼Œä»è€Œå›  MLE å¡åœ¨äº†ä¸‹é¢çš„æµ‹è¯•æ ·ä¾‹å¤„.

```yml
[226,174,214,16,218,48,153,131,128,17,157,142,88,43,37,157,43,221,191,68,206,23,225,82,54,118,111,46,80,49,245,63,25,194,72,80,143,55,209,18,55,122,65,66,177,101,63,201,172,130,103,225,142,46,86,185,62,138,212,192,125,77,223,188,99,228,90,25,193,211,84,239,119,234,85,83,123,120,131,203,219,10,82,35,120,180,249,106,37,169,225,54,103,55,166,124]
```

#### ä¸€ç»´DPå†™æ³•

ä»æœ¬è´¨ä¸Šçœ‹ï¼Œè¿™é“é¢˜ä¸è·³å°é˜¶æ— å¼‚ï¼Œæœ¬è´¨ä¸Šæ˜¯ â€œé€‰ä¸ä¸é€‰â€ ç±»é—®é¢˜ï¼Œä»è¿™ä¸ªè§’åº¦å‡ºå‘ï¼Œä¸€ç»´çš„DPé€’æ¨å°±å¾ˆå¥½å†™äº†ã€‚

```java
class Solution {
    public int massage(int[] nums) {
        /*Special Judge*/
        int len = nums.length;
        if (len == 0) return 0;
        if (len == 1) return nums[0];
        if (len == 2) return Math.max(nums[0],nums[1]);
        int[] dp = new int[len];
        dp[0] = nums[0];
        dp[1] = nums[1];
        dp[2] = nums[2] + nums[0];
        for (int i = 3; i < len; i++) {
            dp[i] = Math.max(dp[i-2],dp[i-3]) + nums[i];
        }
        return Math.max(dp[len-1],dp[len-2]);
    }
}
```

#### ç©ºé—´ä¼˜åŒ–

é¦–å…ˆæˆ‘ä»¬å¿½ç•¥é¢˜ç›®å…·ä½“ç»†èŠ‚ï¼Œå°†æ•´ä½“æ¨¡å‹æŠ½è±¡å‡ºæ¥ï¼Œ**æœ¬é¢˜å®é™…ä¸Šå°±æ˜¯è·³å°é˜¶ï¼Œåªä¸è¿‡æ¯æ¬¡è·³å°é˜¶çš„æ­¥æ•°åªèƒ½æ˜¯ 2 æ­¥æˆ–è€… 3 æ­¥ã€‚**

ä¹Ÿå°±æ˜¯è¯´ï¼Œè·³ä¸Šç¬¬ i å±‚å°é˜¶æ‰€éœ€çš„æ­¥æ•° `dp[i]` ï¼Œåªä¸ `dp[i-2]` å’Œ `dp[i-3]` æœ‰å…³ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªé•¿åº¦ä¸º 4 çš„æ•°ç»„ `dp[]` ï¼Œåœ¨æ¯æ¬¡é€šè¿‡ `dp[0]` å’Œ `dp[1]` è®¡ç®—å‡º `dp[4]` åï¼Œ**é€šè¿‡å¹³è¡Œèµ‹å€¼å®ç°æ»šåŠ¨æ•°ç»„**ï¼ˆæœ‰ç‚¹ç±»ä¼¼äºåœ¨åŸæ¥é•¿åº¦ä¸º `nums.length` çš„ `dp[]` æ•°ç»„ä¸Šï¼Œæ”¾ä¸€ä¸ªé•¿åº¦ä¸º 4 çš„**æ»‘åŠ¨çª—å£**ï¼‰ï¼Œå³å¯å°†ä½¿ç”¨çš„é¢å¤–ç©ºé—´é™åˆ° $O(1)$ çº§åˆ«ã€‚

å¦å¤–éœ€è¦å¯¹ `nums.length` ä¸º 3 çš„æƒ…å†µå†™ç‰¹åˆ¤ï¼Œæ­¤å¤„ä¸èµ˜è¿°ã€‚

```java
class Solution {
    public int massage(int[] nums) {
        /*Special Judge*/
        int len = nums.length;
        if (len == 0) return 0;
        if (len == 1) return nums[0];
        if (len == 2) return Math.max(nums[0],nums[1]);
        if (len == 3) {
            return Math.max(nums[0]+nums[2], nums[1]);
        }
        /*ä»¥ä¸‹å¤„ç†çš„nums[]é•¿åº¦ä¸å°‘äº4*/
        int[] dp = new int[4];
        dp[0] = nums[0];
        dp[1] = nums[1];
        dp[2] = nums[2] + nums[0];
        for (int i = 3; i < len; i++) {
            dp[3] = Math.max(dp[0],dp[1]) + nums[i];
            if (i != len-1) {
                dp[0] = dp[1];
                dp[1] = dp[2];
                dp[2] = dp[3];
            }
        }
        return Math.max(dp[3],dp[2]);
    }
}
```

#### ç›¸ä¼¼é¢˜ç›®

[No.198 æ‰“å®¶åŠ«èˆ](https://leetcode-cn.com/problems/house-robber/submissions/)

---

### [å‰‘æŒ‡Offer 42. è¿ç»­å­æ•°ç»„æœ€å¤§å’Œ](https://leetcode-cn.com/problems/lian-xu-zi-shu-zu-de-zui-da-he-lcof/)

#### çŠ¶æ€å®šä¹‰

`dp[i]` è¡¨ç¤ºä»¥ `nums[i]` ç»“å°¾çš„è¿ç»­å­æ•°ç»„çš„å’Œ

#### çŠ¶æ€è½¬ç§»æ–¹ç¨‹

$$
dp\left[ i \right] =\begin{cases}
	dp\left[ i-1 \right] +nums\left[ i \right] , dp\left[ i-1 \right] \ge 0\\
	nums\left[ i \right] , dp\left[ i-1 \right] <0\\
\end{cases}
$$

#### ä¸€ç»´DPå†™æ³•

```java
class Solution {
    public int maxSubArray(int[] nums) {
        int len = nums.length;
        int[] dp = new int[len];
        int res = -99999;
        dp[0] = nums[0];
        for (int i = 1; i < len; i++) {
            if (dp[i-1] >= 0) dp[i] = dp[i-1] + nums[i];
            else dp[i] = nums[i];
        }
        for (int i = 0; i < len; i++) {
            res = Math.max(res,dp[i]);
        }
        return res;
    }
}
```

#### ç©ºé—´ä¼˜åŒ–

èˆå¼ƒ `dp[]` æ•°ç»„ï¼Œåªéœ€è¦ä¸€ä¸ªå˜é‡ `sum` ï¼Œå½“ `sum` ä¸ºè´Ÿæ•°æ—¶ï¼Œç›´æ¥ç”¨ `nums[i]` è¦†ç›–ï¼Œå½“ `sum` ä¸ºéè´Ÿæ•°ï¼Œåˆ™åŠ ä¸Š `nums[i]` çš„å€¼ã€‚

åœ¨æ­¤åŒæ—¶ï¼Œç”¨ä¸€ä¸ªè®°å½•å˜é‡ `max_sum` è®°å½•è¯¥è¿‡ç¨‹ä¸­æ›¾ç»å‡ºç°çš„æœ€å¤§å’Œå³å¯ã€‚

çŠ¶æ€å‹ç¼©åï¼Œè¾…åŠ©ç©ºé—´ä» $O(n)$ å‡å°‘è‡³ $O(1)$ï¼Œéå†æ¬¡æ•°ä» 2 æ¬¡å‡å°‘åˆ° 1 æ¬¡ï¼ˆä¸éœ€è¦æµªè´¹ä¸€æ¬¡éå†æ¥å¯»æ‰¾æœ€å¤§å€¼ï¼‰

```java
class Solution {
    public int maxSubArray(int[] nums) {
        int len = nums.length;
        int sum = nums[0];
        int max_sum = sum;
        sum = nums[0];
        for (int i = 1; i < len; i++) {
            if (sum < 0) {
                sum = nums[i];
            } else if (sum >= 0) {
                sum += nums[i];
            }
            max_sum = Math.max(max_sum, sum);
        }
        return max_sum;
    }
}

```


---

### [å‰‘æŒ‡Offer 47. ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼](https://leetcode-cn.com/problems/li-wu-de-zui-da-jie-zhi-lcof/)

#### é¢˜ç›®åˆ†æ

å‰é¢åšçš„éƒ½æ˜¯â€œçˆ¬æ¥¼æ¢¯â€å‹çš„ä¸€ç»´DPï¼Œæœ¬é¢˜å±äºäºŒç»´DP.

åˆ†æå•ä¸ªçŠ¶æ€ï¼Œé™¤äº†ç‰¹æ®Šå€¼ï¼ˆè¡Œåˆ—è¾¹ç•Œï¼‰å¤–ï¼Œæ¯ä¸ªæ ¼å­éƒ½åªèƒ½ä»å®ƒçš„ä¸Šæ–¹æˆ–å·¦æ–¹åˆ°è¾¾ï¼Œæ¯ä¸ªä½ç½®éƒ½è´ªå¿ƒï¼Œæ€»ç¤¼ç‰©ä»·å€¼å³å¯æœ€å¤§ï¼ˆäºŒç»´DPæ•°ç»„å³ä¸‹è§’çš„å€¼ï¼Œå°±æ˜¯æœ€ç»ˆçš„ç»“æœï¼‰.

ä¸ºäº†é¿å…å¤šä½™çš„åˆ¤å®šå’Œè®¨è®ºï¼Œä¸€å¼€å§‹å…ˆåˆå§‹åŒ– `dp[][]` çš„è¡Œåˆ—è¾¹ç•Œï¼Œè¾¹ç•Œå€¼çš„æ¯ä¸ªæ ¼å­çš„å‰ä¸€æ­¥éƒ½åªæœ‰ä¸€ç§å¯èƒ½ï¼ˆè¦ä¹ˆä»ä¸Šé¢æ¥ï¼Œè¦ä¹ˆä»å·¦è¾¹æ¥ï¼‰ï¼Œæ‰€ä»¥ `dp[][]` çš„è¾¹ç•Œå€¼å¡«å……å¾ˆç®€å•ï¼Œç´¯åŠ æ±‚å’Œå³å¯.

#### çŠ¶æ€å®šä¹‰

è®¾ `dp[i][j]` ä¸ºï¼šæ‹¿å®Œ $(i,j)$ ä½ç½®æ ¼å­çš„ç¤¼ç‰©åï¼Œæ‰‹ä¸­ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼.

#### çŠ¶æ€è½¬ç§»æ–¹ç¨‹

$$
dp[i][j]= max \left( dp[i-1][j],\ dp[i][j-1] \right) + grid[i][j]
$$

#### äºŒç»´DPå†™æ³•

```java
class Solution {
    public int maxValue(int[][] grid) {
        /*è·å–æ•°ç»„é•¿å’Œå®½*/
        int row_len = grid.length; //m
        int col_len = grid[0].length; //n

        /*ç‰¹åˆ¤ï¼šå•ä¸ªï¼Œå•è¡Œï¼Œå•åˆ—ï¼Œä¸‰ç§æƒ…å†µ*/
        if (row_len == 1) {
            int sum = 0;
            for(int i = 0; i < col_len; i++) {
                sum += grid[0][i];
            }
            return sum;
        }
        if (col_len == 1) {
            int sum = 0;
            for(int i = 0; i < row_len; i++) {
                sum += grid[i][0];
            }
            return sum;
        }

        int[][] dp = new int[row_len][col_len];
        dp[0][0] = grid[0][0];

        /*åˆå§‹åŒ–äºŒç»´dpæ•°ç»„çš„æ¨ªç«–è¾¹ç•Œï¼Œä½¿å¾—åç»­çš„æ ¼å­éƒ½å¯ä»¥ç”±ä¸Šè¾¹æˆ–å·¦è¾¹çš„æ ¼å­èµ°åˆ°ï¼Œé¿å…ç‰¹æ®Šæƒ…å†µè®¨è®º*/
        for (int row = 1; row < row_len; row++) {
            dp[row][0] = dp[row-1][0] + grid[row][0];
        }
        for (int col = 1; col < col_len; col++) {
            dp[0][col] = dp[0][col-1] + grid[0][col];
        }

        /*å¼€å§‹äºŒç»´DPï¼Œèµ°åˆ°å°½å¤´å°±æ˜¯ç­”æ¡ˆ*/
        for (int row = 1; row < row_len; row++) {
            for (int col = 1; col < col_len; col++) {
                dp[row][col] = Math.max(dp[row-1][col], dp[row][col-1]) + grid[row][col];
            }
        }
        return dp[row_len-1][col_len-1];
    }
}
```

#### ç©ºé—´ä¼˜åŒ–

å¾…è¡¥å……

#### ç›¸ä¼¼é¢˜ç›®

[No.64 æœ€å°è·¯å¾„å’Œï¼ˆäºŒç»´ DP Tableï¼‰](https://leetcode-cn.com/problems/minimum-path-sum/)


## äºŒã€èƒŒåŒ… DP

### 0-1 èƒŒåŒ…


æœ‰ $N$ ä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ $V$ çš„èƒŒåŒ…ã€‚æ¯ä»¶ç‰©å“åªèƒ½ä½¿ç”¨ä¸€æ¬¡.

ç¬¬ $i$ ä»¶ç‰©å“çš„ä½“ç§¯æ˜¯ $v_i$ ï¼Œä»·å€¼æ˜¯ $w_i$ .

æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä½¿è¿™äº›ç‰©å“çš„æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”æ€»ä»·å€¼æœ€å¤§ã€‚è¾“å‡ºæœ€å¤§ä»·å€¼ã€‚

#### çº¦æŸæ¡ä»¶

$$
\sum v_i \leq V
$$

#### ç›®æ ‡å‡½æ•°

$$
max\left( \sum w_i \right)
$$

#### çŠ¶æ€å®šä¹‰

$f[i][j]$ è¡¨ç¤ºè€ƒè™‘å‰ $i$ ä¸ªç‰©å“æ”¾å…¥å®¹é‡ä¸º $j$ çš„èƒŒåŒ…ä¸­æ—¶èƒ½å–å¾—çš„æœ€å¤§ä»·å€¼.

#### çŠ¶æ€è½¬ç§»

$$
f\left[ i \right] \left[ j \right] =\begin{cases}
	f\left[ i-1 \right] \left[ j \right] \text{ï¼Œä¸é€‰ç¬¬}i\text{ä»¶ç‰©å“}\\
	f\left[ i-1 \right] \left[ j-v\left[ i \right] \right] +w\left[ i \right] \text{ï¼Œé€‰ç¬¬}i\text{ä»¶ç‰©å“}\\
\end{cases}
$$

#### é€’å½’

```java
public int PickDrugs(int M, int T, int[] val, int[] time) {
    return DP(M,T,M,T,val,time);
}

public DP(int k, int t, int M, int T, int[] val, int[] time) { 
    if (k == 0) return 0;
    if (t < time[k]) {
        return DP(k-1, t, M, T, val, time);
    } else {
        return Math.max(
            DP(k-1, t-time[k], M, T, val, time) + val[k], 
            DP(k-1, t, M, T, val, time));
    }
}
```

#### äºŒç»´ DP Table è¿­ä»£ 

```c++
#include <iostream>
#include <algorithm>
#include <string>

using namespace std;

const int N = 1010; //èƒŒåŒ…ä¸ªæ•°ä¸ç‰©å“ä»¶æ•°æœ€å¤§å€¼ï¼Œå¯ä¿®æ”¹
int n,m; //nä¸ºç‰©å“æ•°ï¼Œmä¸ºèƒŒåŒ…å®¹é‡
int v[N],w[N];
int f[N][N]; //DP Table
int res; //å­˜ç»“æœ


int main()
{
    cin>>n>>m;
    for (int i = 1; i <= n; i++) cin>>v[i]>>w[i];
    
    //å…ˆåˆ—åè¡Œéå†äºŒç»´æ•°ç»„
    for (int j = 1; j <= m; j++)
    {
        for (int i = 1; i <= n; i++)
        {
            if (j-v[i] >= 0) { //é˜²æ­¢æ•°ç»„ä¸‹æ ‡è¶Šç•Œ
                f[i][j] = max(f[i-1][j], f[i-1][j-v[i]] + w[i]);
            } else {
                f[i][j] = f[i-1][j];
            }
        }
    }
	
    //å–å¾—å…¨å±€æœ€ä¼˜è§£æ—¶ï¼ŒèƒŒåŒ…æœªå¿…æ°å¥½è£…æ»¡ï¼Œæ‰€ä»¥éœ€è¦éå†Tableæœ€åä¸€è¡Œå–æœ€å¤§å€¼
    for (int i = 1; i <= m; i++)
    {
        res = max(res, f[n][i]);
    }
    cout<<res<<endl;
    return 0;
}
```

#### é¢˜ç›®

[0-1èƒŒåŒ…æ¨¡æ¿é—®é¢˜](https://www.acwing.com/problem/content/2/)

[lgP1048 é‡‡è¯](https://www.luogu.com.cn/problem/P1048)









