# 排序 | 理论课复习

## 直接插入排序

### 序列划分

+ 左边部分序列，已经有序
+ 中间一个，抽出来准备插入到前面的有序序列中
+ 右边部分序列，未排序

### 大致过程

+ 对于中间元素 $x_i$，在区间 $[x_1,x_{i-1}]$ 中查找它的应插入位置（从后往前找）
+ 插入 $x_i$（使用大规模移动的插入方式）
+ 中间元素变成 $x_{i+1}$，重复上述过程，直到整个待排序序列有序

### 特点

+ 稳定
+ 时间 $O(n^2)$，空间 $O(1)$
+ 不到最后一趟结束，所有元素都未必在其最终位置（冒泡、堆排、快排每完成一趟，都会有一个元素归位到最终位置）

### 特殊情况

+ 最好情况是有序序列，比较次数 $n-1$
+ 最坏情况是反序序列，比较次数 $n(n-1)/2$

### 改进版——折半插入排序

即在查找插入位置的时候使用二分查找法，减少了比较次数，但移动次数不变，总的时间复杂度仍为 $O(n^2)$

## 希尔排序

### 基本过程

+ 每趟排序取一个增量 $d_i$，将序列划分为 $\{ x_i, x_{i+d},x_{i+2d}...x_{i+kd} \}$ 的若干个子列
+ 对每个子列使用直接插入排序，使各个子列内部有序
+ 使用一个更小的增量 $d_{i+1}$，重复上述过程，直到增量 $d=1$

### 特点

+ 不稳定
+ 时间 $O(n^{1.3})$，最坏时间 $O(n^2)$，空间 $O(1)$
+ 只适用于顺序结构线性表

## 冒泡排序

### 特点

+ 时间 $O(n^2)$
+ 稳定
+ 每趟会使一个元素沉底

## 快速排序（严蔚敏版本）

### 基本过程

严蔚敏版本的快速排序，选第一个元素作为 $pivot$，具体模拟过程见王道 P319-320

### 特点

+ 不稳定
+ 每一次 $partition()$ 会将此轮的 $pivot$ 放到其最终位置上
+ 所有内部排序算法中，性能最优
+ 时间 $O(n\log n)$，序列已经基本有序时退化成 $O(n^2)$
+ $partition()$ 划分得越平衡，递归工作栈深度越小，最少 $\log n$，最多 $n$

### 是否可能为第 i 趟处理后序列类问题

+ 先写出升序、降序序列，与题给序列对比，找出相同的位置，这些相同的位置才有可能是这 i 趟下来确定的枢轴
+ 对于找到的这些可能的枢轴，尝试能否找到一个它们的合理的“出场顺序”，使得划分满足要求，如果能，那么该序列就有可能是快排第 i 趟处理后序列，否则不可能.