# 防抖与节流

## 防抖

### 定义

从触发事件到执行函数的条件是：在触发后指定时间内，事件没有再次被触发，函数才会执行

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211214192006.png)

### 典型场景

1.无按钮搜索框，只要用户一直在输入，就不会发 ajax 请求执行搜索，只有用户在一定时间内没有输入（如 500 ms）才会触发搜索请求

2.当某个函数需要在浏览器窗口大小改变时执行，就需要给 `window.onresize` 触发该函数增加防抖功能，比如检测用户 500 ms 内没有再调整窗口大小，说明用户已经调整到满意的大小了，这时候再执行函数

## 节流

### 定义

无论事件触发的频率快慢如何，指定一段时间（如 500 ms）内，事件只会被执行一次

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211214192024.png)

### 场景

1.比如有一个按钮能够触发 ajax 请求，为了节约服务器资源，需要防止用户暴燥狂点该按钮，于是需要做节流，让该 ajax 请求在指定时间内只能被触发一次

2.移动端有一个典型功能——滑动到底部加载更多，这必然关联着 ajax 请求，异步请求加载需要一定的时间，用户如果暂时看不到反馈，就会滑很多次，这时候就需要做节流

## 更多场景

### 点赞功能

用户给文章/评论点赞，不会立即触发 ajax 请求，而是在用户退出这个页面时，利用 Vue 组件的 `destroyed()` 钩子发送最终的点赞状态让服务器记录

## 参考

[【前端】一网打尽──前端必会的“防抖”和“节流”方法            ](https://juejin.cn/post/6959161295358656520)

[7分钟理解JS的节流、防抖及使用场景](https://juejin.cn/post/6844903669389885453)

