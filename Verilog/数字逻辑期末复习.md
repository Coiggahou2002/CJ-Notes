# 数逻复习

> By cccjh

## 不会

~~五变量卡诺图~~

全减器表达式很难记？

中规模

不完全化简

## 符号

与门

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211226140755.png)

或门

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211226140821.png)

非门（注意第2、3个）

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211226140929.png)

与非门

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211226141001.png)

或非门

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211226141046.png)

与或非门

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211226141102.png)

异或门

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211226141140.png)

同或门

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211226141218.png)

## 一、零散知识点

1. 存 $N$ 个二进制数需要 $\log_2N$ 向上取整个触发器，需要 $N$ 个寄存器
2. 在状态转换表的化简过程中，等效状态具有传递性，相容状态不具有传递性
3. 卡诺图化简的最简结果不一定是唯一的
4. 最小项的反是最大项
5. 对于一个存在险象的逻辑电路而言，只有当满足某种特定输入取值 时，“毛刺”才会出现
6. 组合逻辑电路中的险象是由于**电路中的时延**
7. OC门（集电极开路门）在使用时须在**输出端**和**电源**之间接一个电 阻

## 二、分块知识点

### 运算

异或：$F=A\overline B + \overline AB$

同或：$F=AB+\overline A \overline B$

==特殊运算：$A+BC=(A+B)(A+C)$==

德摩根律：去掉最顶层的反号，代价是给直接下属全部加上反号，而且下属当前级别运算全部替换（加变乘，乘变加）

### 不完全给定函数

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211226142411.png)

记住 d 或 D 里面的是无关项就行（卡诺图中对应位置打叉）

### 五变量卡诺图                                                                                                                                                                                                                                                                         

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211226142651.png)

### 蕴含项相关

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211226151451.png)

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211226151524.png)

蕴含项：卡诺图中我画出来的圈都是蕴含项

首要蕴含项：已经扩大到最大的圈

奇异1单元：只被一个最大圈包含的 1

基本首要蕴含项：含有奇异 1 的圈子

### 扇入/扇出系数

扇入系数：门电路允许的输入端的个数

扇出系数：逻辑门输出端连接同类门的最多个数，反映逻辑门的带负载能力

### 险象

+ 静态冒险：输入信号变化 1 次，引起 1 个错误脉冲
+ 动态冒险：输入信号变化 1 次，引起多个错误脉冲
+ 功能冒险

## 三、各种器件

### 三态门(缓冲器)

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211226175428.png)

三个输出：低电平、高电平、高阻态

核心特点：有一个使能端控制通断

应用：三态总线，管脚输入输出可编程

### OC 门

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211226175320.png)

具备“线与”功能，但是要连 Vcc 和电阻

### 半加器

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211226152635.png)

> 之所以被称作半加器，是因为缺少了一个输入——来自前一个运算的进位

### 全加器

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211226154129.png)

### :star: 全减器

$D_i$ 是相减得到的差

$C_{i-1}$ 是上一位来的借位(在这一步中要被减去)

$C_i$ 是向高位要的借位

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211226173316.png)

### 并行加法器

串行进位很慢，要改成并行进位

因为全加器中，$C_i=a_ib_i+(a_i\oplus b_i)C_{i-1}$

记 $G_i=a_i b_i$，$P_i=a_i \oplus b_i$

可以推出迭代公式 $C_i=G_i+P_iC_{i-1}$

由类似数学归纳法的步骤，可以推出所有 $C_i$ 关于初始条件的计算表达式

这样一来，每个位置的全加器就不需要等待上一位的进位到来才计算

所有位置的全加器都可以同步开始计算，大大缩短计算时间

### 数据选择器

$2^n$ 路输入，选一路送到输出，需要 $n$ 个控制开关

同理，$n$ 选 1 数据选择器需要 $\lceil \log_2n \rceil$ 个控制开关

（因为 $n$ 个开关足以表达 $[0, 2^n-1]$ 的所有整数）

表达式：

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211227110529.png)

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211227110334.png)

### 二进制译码器 (最小项译码器)

输入：n 位二进制串

输出：$[0, 2^n -1]$ 的整数中的一个（如 $2^{n}$ 个灯只亮一个）

典例：3-8 译码器

==3-8 译码器改造 4-16 线译码器==

巧妙的地方：当 D = 0，表示的数范围为 0~7，只需要译码器 I 的输出亮灯，译码器 II 可以不工作；当 D = 1，表示的数为 8~15，只需要译码器 II 工作，所以可以用 D 控制使能端的最高位.

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211227113509.png)

### 代码转换译码器

从一种编码转换为另一种编码，如【4位二进制数-->格雷码】译码器

先写出 4 位二进制数 0000 到 1111，再用二进制数转格雷码的方法（最高位复制，相邻比较同则 0 不同则 1）逐个转成格雷码，得到 4 输入 4 输出的真值表，再画 4 张 4 变量卡诺图，写表达式，画电路，即可

### 显示译码器

如二进制串转数码管显示的译码器（写真值表再设计电路就行）

### 编码器

普通编码器：行为与译码器互逆，$2^{n}$ 路输入只能给其中一个，输出为其二进制串形式

优先编码器：在普通编码器基础上允许多路输入，但只按具有最高优先级的那个输入来输出

> 个人理解：其实无论是 encoder 还是 decoder，都只是利用逻辑电路来处理映射关系而已

### 数值比较器

自高到低逐个比较，只有在高位相等时才比较地位

旁边绿色的是用于接受来自上一个比较器的结果的

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211227164503.png)

### 奇偶校验器

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211227164857.png)

主要利用异或的特性，异或满足交换律，如果一个 0-1 序列中有偶数个 1，将这偶数个 1 两两异或，得到全 0；如果该序列中有奇数个 1，所有数异或完必然还要与这个 1 异或，所以得 1

以上就是奇偶校验器的原理

**分类：**

奇偶校验发生器，用来产生校验位

奇偶校验检测器，用来检验是否出错

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211227165543.png)



### 触发器/锁存器

锁存器和触发器是构成存储电路的基本单元

触发器：有时钟输入端，并且只在时钟信号到来时，才发生状态转换

锁存器：没有时钟输入端

### RS 锁存器

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211225153519.png)

应用：开关去抖

### 门控 D 锁存器

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211225153728.png)

存在空翻现象（一个时钟周期内，触发器状态发生多次变化）

空翻是锁存器的共有问题

解决方法：改电平触发为边沿触发

### D 触发器

$$
Q_{n+1}=D
$$

### RS 触发器

$$
Q_{n+1}=S+\overline R Q_n
$$

### JK 触发器

$$
Q_{n+1}=J\overline{Q_n}+\overline K Q_n
$$

### T 触发器

其实就是将 JK 触发器的 J 和 K 都接到 T 上，只要令 J=K=T，得
$$
Q_{n+1}=T\overline{Q_n}+\overline T Q_n
$$

### T' 触发器

相当于 T 触发器中 T 恒给高电平信号
$$
Q_{n+1}=\overline{Q_n}
$$

### ※3-8 译码器

### ※计数器

## 四、流程性技能

### 给出一个十进制数，要求给出余3码：

1. 先写出这个十进制数每一位的 BCD 码（就是0-9对应的4位二进制数）
2. 然后给写出来的每个4位二进制数加上 011
3. 加完之后连在一起

### 余 3 码、格雷码、BCD 码互转

余 3 码和 BCD 码互转：每 4 位加减 011 就可以了

其实都是利用二进制数作中间桥梁

#### 余 3 码 vs 二进制

每 4 位减去 011，得到 8421 BCD，再得到这个 BCD 表示的十进制数，再将这个十进制数转换为二进制串；

反过来，二进制串先化成十进制数，再转 BCD，再每 4 位加 011 得到余 3 码

#### 格雷码 vs 二进制

最简单：拿到二进制串，复制最高位，剩下的相邻比较，相同取 0，不同取 1

#### BCD 码 vs 二进制

先 BCD 每 4 位转成十进制，连起来得到完整十进制数，再十进制转二进制串

> 注意 BCD 的权重不一定都是 8421，具体情况具体计算

### 画卡诺圈

圈法：

+ 圈中格子数必须为 2 的幂
+ 圈越大越好
+ 可以左右、上下滚动圈
+ 四个角都有 1 也可以圈

### 根据真值表写出函数表达式

1. 画卡诺图
2. 合理利用无关项，画卡诺圈
3. 根据卡诺圈写表达式
4. 最后说明一下无关项的取值

### 由真值表写与或式、或于式

与或式，先乘后加，找到所有令输出为 1 的输入，1 取正变量，0 取反变量，相乘，然后所有这种输入行加起来；

或与式，先加后乘，找到所有令输出为 0 的输出，0 取正变量，1 取反变量，相加，然后所有这种输入行乘起来

### 写最小项、最大项表达式

最小项：把卡诺图里面为 1 的格子的编号全部找出来，写成下面的形式
$$
F=\sum m(0,1,4,5,6)
$$
最大项：把卡诺图里为 0 的格子的编号全部找出来，写成下面的形式
$$
F=\prod M(2,3,7)
$$

> 记住：最小项和最大项表达式一定是互补的，也就是说，两个表达式里面的所有数字不会有重复，而且放在一起就是一整个卡诺图能表示的所有编号

### 由卡诺图写最简与或式、最简或与式

最简与或式：常规方法，圈 1，圈内相乘，1 取正变量，0 取反变量，各圈相加，写表达式

最简或与式：圈 0，圈内相加，0 取正变量，1 取反变量，各圈相乘

### 由卡诺图写最简与或非式

与或非式就是与或式取反

给出 $F$ 的卡诺图，先通过全图取反得到 $\overline F$ 的卡诺图，从中读出 $\overline F$ 的与或式，在取反，得到 $F$，此时 $F$ 的表达式就是与或非式

### 简单逻辑电路设计

+ 给出文字需求，写真值表
+ 由真值表画卡诺图
+ 卡诺图画圈，写表达式

### 门电路级数判断

画运算树

### 单一逻辑门设计电路

只允许用与非门：将 F 取反两次，然后用德摩根律化成 $\overline {A\cdot B}$ 的形式

只允许用或非门：将 F 取反两次，然后德摩根律化成 $\overline{A+B}$ 形式

与或非门：化成 $\overline{AB+CD}$

### 有限扇入门设计电路

式子变形（因式分解），尽量让每级电路的运算分支个数更少

### 险象判断

**方法一：考察 + 枚举**

观察表达式里有没有正、反同时出现的变量，有的话，将其列入考察对象

对考察对象，逐个、单个考察，将其他变量取值枚举一遍，看看表达式会不会出现 $X\overline X$ 或者 $X+\overline X$，

一旦出现，就说明会有险象

**方法二：卡诺图相切**

画出表达式对应的卡诺图，若有相切的卡诺圈出现，就会有险象

**方法三：波形分析**

用字母给各种门（包括非门）标号，按拓扑序标

每一层级手动做一点肉眼可见的反应延迟

看最后的输出波形是否因为前面的变量延迟导致冒险

### 险象消除

1. 在卡诺圈切点处添加卡诺圈，在代数上表现为增加冗余项
2. 添加吸收电容
3. 加封锁/选通脉冲

### 给出电路图判断哪个部件有问题

逐个逐个看就行了

### 3-8 译码器的译码范围问题

地址译码范围是指：该器件允许接收的合法输入范围

**问整个译码器的地址译码范围：**

1. 首先使能端必须赋 100，译码器要处于工作状态才能谈译码
2. 有效信号端，取值从 0 到最大都可以，例如 3 个有效信号端，范围就是 000 到 111
3. 无关信号端，取值从 0 到最大都可以，例如 8 个无关信号端，范围是 0000_0000 到 1111_1111
4. 最后每 4 位分组，用 16 进制表示译码范围

**问某个外设的地址译码范围：**

相当于指定某个输出，问可导向该输出的输入范围是什么

1. 使能端 100
2. 有效信号端，与指定的输出相对应，如指定输出 Y2 亮，则信号端写死 010
3. 无关信号端，从全 0 一直取到最大都可以
4. 最后每 4 位分组，用 16 进制表示译码范围

### 利用数据选择器设计组合逻辑电路

我们要设计的组合逻辑可以用卡诺图表示吧？

卡诺图是什么？其实就是一张【输入变量的所有取值】到【输出值】的映射表

现在我们不自己设计电路去描述这种映射关系，而是使用数据选择器去描述这种映射关系

而数据选择器，说白了也就是【二进制串】到【十进制数编号输出端口】的映射关系而已

**情况一：变量个数刚好等于数据选择器可用的输入端口数**

输入变量逐个对应连接输入端口，把卡诺图中每个变量组合的输入对应的输出值，放到数据选择器对应的多路数据输入端中的一路

**情况二：变量个数多于数据选择器可用输入端口数**

此时需要降维，将卡诺图中的变量缩减到与数据选择器的可用输入端口数相等，然后应用情况一的方法

降维方法不知道怎么描述，不描述了...

### 用中规模译码器芯片设计组合逻辑电路

其实本质上就是：题目规定一种映射关系（输入、输出需求），只给你特定的芯片，要求你实现，而你要做的就是，结合芯片的真值表和给出条件的真值表，做一些改造和适配，使得映射关系和芯片功能能够适配或半适配

典例 1 外设译码器

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211227163828.png)

典例 2 等值比较器

![](https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/20211227163850.png)

### 同步时序逻辑电路的分析

1. 写输入方程（所有触发器的触发端）
2. 写出各个触发器的次态方程（将前面写的输入方程代进来）
3. 有输出的话写输出方程
4. 如果有给初始状态，从初始状态开始，根据次态方程一个个状态往下算，算到出现循环为止
5. 最后判定这个电路有什么功能

### 同步时序逻辑电路设计

#### 设计流程

+ 给出文字需求，定义需要的状态
+ 画出状态之间转换关系图
+ 根据转换关系图，画出状态转换表
+ 完全/不完全，分别用对应的方法，化简状态转换表
+ 化简后，看看有多少个状态，用什么触发器，分配几个触发器
+ 加入触发器需要的状态（如D、JK）
+ X与触发器控制状态为in，次状态和输出Z为out，写真值表
+ 由真值表画卡诺图
+ 由卡诺图写表达式
+ 由表达式+选定的触发器类型去设计电路
+ 无关项检测

#### 判断时序电路的类型？

+ Z 的表达式不含有输入 X，Moore 型
+ Z 的表达式含有输入 X，Mealy 型

#### 用隐含表化简完全定义状态表

1. 掐头去尾画二维半格图
2. 看状态转换表，如果两个状态的输出有不一样，直接叉掉
3. 如果两个状态输出一样，再看依赖条件
4. 更复杂的需要看依赖关系链中的圈
5. 最后可以得出等价关系类，凡在一个类里的，都可以直接合并

### 序列检测器设计

1. 一般根据序列长度定义 n 个状态
2. 画出状态转换图（注意是重叠检测还是不重叠检测）
3. 画出状态转换表
4. 看一下能不能化简、合并状态，能化简的化简
5. 选触发器类型和个数
6. 写真值表
7. 画卡诺图
8. 写表达式
9. 画电路

### 分析计数器模值

1. 看清零方式（置数/直接清零）
2. 看寄存器输入端口确定计数起点
3. 看清零端触发条件确定计数终点
4. 若是置数清零，看从起点开始能计多少数，就是模多少计数器；若是直接清零，就看从 0 开始到计数终点之间有多少数
